(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-322b3768"],{"24d2":function(t,e,r){"use strict";r.d(e,"o",(function(){return n})),r.d(e,"a",(function(){return s})),r.d(e,"d",(function(){return a})),r.d(e,"f",(function(){return l})),r.d(e,"c",(function(){return c})),r.d(e,"r",(function(){return u})),r.d(e,"m",(function(){return i})),r.d(e,"b",(function(){return d})),r.d(e,"s",(function(){return m})),r.d(e,"e",(function(){return f})),r.d(e,"k",(function(){return p})),r.d(e,"n",(function(){return b})),r.d(e,"j",(function(){return y})),r.d(e,"i",(function(){return C})),r.d(e,"l",(function(){return h})),r.d(e,"p",(function(){return v})),r.d(e,"q",(function(){return j})),r.d(e,"h",(function(){return F})),r.d(e,"g",(function(){return g}));var o=r("b775");function n(t,e){return Object(o["a"])({url:"/project/queryForProjects",method:"post",params:t,data:e})}function s(t){return Object(o["a"])({url:"/project/addProject",method:"post",data:t})}function a(t){return Object(o["a"])({url:"/project/deleteProject/"+t,method:"delete"})}function l(t){return Object(o["a"])({url:"/project/updateProject",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/project/checkProject/"+t,method:"get"})}function u(t,e){return Object(o["a"])({url:"/view/queryViews",method:"post",params:e,data:t})}function i(t){return Object(o["a"])({url:"/view/queryById/"+t,method:"get"})}function d(t){return Object(o["a"])({url:"/view/addViewRE",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/view/updateView",method:"post",data:t})}function f(t){return Object(o["a"])({url:"/view/deleteView/"+t,method:"delete"})}function p(){return Object(o["a"])({url:"/view/getViewFilter",method:"post"})}function b(t){return Object(o["a"])({url:"/user/queryByNameSubUsers",method:"post",params:t})}function y(t){return Object(o["a"])({url:"/project/queryById/"+t,method:"get"})}function C(t){return Object(o["a"])({url:"/project/getCloseProject",method:"get",params:t})}function h(t){return Object(o["a"])({url:"/view/getViewScopeChildParams",method:"get",params:t})}function v(t){return Object(o["a"])({url:"/view/queryViewParents",method:"get",params:t})}function j(t){return Object(o["a"])({url:"/view/queryViewTrees",method:"get",params:t})}function F(){return Object(o["a"])({url:"/project/getAllSysCustomField",method:"get"})}function g(t){return Object(o["a"])({url:"/project/getAllCustomField",method:"post",data:t})}},"254c":function(t,e,r){"use strict";r("f41f")},"4d06":function(t,e,r){"use strict";r.d(e,"i",(function(){return n})),r.d(e,"a",(function(){return s})),r.d(e,"e",(function(){return a})),r.d(e,"d",(function(){return l})),r.d(e,"f",(function(){return c})),r.d(e,"h",(function(){return u})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return d})),r.d(e,"g",(function(){return m}));var o=r("b775");function n(t,e){return Object(o["a"])({url:"/testCycle/queryList",method:"post",params:t,data:e})}function s(t){return Object(o["a"])({url:"/testCycle/insert",method:"post",data:t})}function a(t){return Object(o["a"])({url:"/testCycle/queryById/"+t,method:"get"})}function l(t){return Object(o["a"])({url:"/testCycle/delete/"+t,method:"delete"})}function c(t){return Object(o["a"])({url:"/testCycle/update",method:"post",data:t})}function u(t,e){return Object(o["a"])({url:"/testCycle/queryBindCaseList",method:"post",params:t,data:e})}function i(t){return Object(o["a"])({url:"/testCycle/bindCaseInsert",method:"post",data:t})}function d(t){return Object(o["a"])({url:"/testCycle/bindCaseDelete/"+t,method:"delete"})}function m(t){return Object(o["a"])({url:"/testCycle/executeTestCase",method:"post",data:t})}},"745f":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container add-form add-project"},[r("el-form",{ref:"testCycleFrom",staticClass:"demo-ruleForm",attrs:{model:t.testCycleFrom,rules:t.testCyclerules,"label-width":"120px"}},[r("div",[t.testCycleFrom.id?t._e():r("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.submitForm("testCycleFrom",!1)}}},[t._v("保存并新建")]),t.testCycleFrom.id?t._e():r("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.submitForm("testCycleFrom",!0)}}},[t._v("保存并返回")]),t.testCycleFrom.id?r("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.submitForm("testCycleFrom")}}},[t._v("确认修改")]):t._e(),r("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.giveupBack("testCycleFrom")}}},[t._v("放弃")]),t.testCycleFrom.id?t._e():r("router-link",{attrs:{to:"/admincenter/admincenter"}},[r("el-button",{attrs:{type:"text"}},[t._v(t._s(t.$t("lang.PublicBtn.CreateCustomField")))])],1)],1),r("div",{staticClass:"form-box"},[r("el-form-item",{attrs:{label:"测试周期标题",prop:"title"}},[r("el-input",{attrs:{maxlength:"30",size:"small"},model:{value:t.testCycleFrom.title,callback:function(e){t.$set(t.testCycleFrom,"title",e)},expression:"testCycleFrom.title"}})],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-checkbox",{attrs:{label:"当前发布版本",size:"small",prop:"currentVersion"}}),r("el-checkbox",{attrs:{label:"发布版本",size:"small",prop:"releaseVersion"}})],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"版本",size:"small",prop:"version"}},[r("el-select",{attrs:{placeholder:"请选择版本"},model:{value:t.testCycleFrom.version,callback:function(e){t.$set(t.testCycleFrom,"version",e)},expression:"testCycleFrom.version"}},[t._l(t.versionsArr,(function(t){return r("el-option",{key:t,attrs:{label:t,value:t}})})),r("router-link",{attrs:{to:"/admincenter/admincenter?par=versions"}},[r("el-option",{attrs:{label:"Add New Value",value:""}})],1)],2)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"用例执行人",size:"small",prop:"assignTo"}},[r("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择用例执行人",clearable:"","remote-method":t.remoteReport,loading:t.loading},model:{value:t.testCycleFrom.assignTo,callback:function(e){t.$set(t.testCycleFrom,"assignTo",e)},expression:"testCycleFrom.assignTo"}},t._l(t.optionsArr,(function(t){return r("el-option",{key:t.id,attrs:{label:t.userName,value:t.userName}})})),1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"关注者",size:"small",prop:"notifiyList "}},[r("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择关注者",clearable:"","remote-method":t.remoteReport,loading:t.loading},model:{value:t.testCycleFrom.notifiyList,callback:function(e){t.$set(t.testCycleFrom,"notifiyList",e)},expression:"testCycleFrom.notifiyList"}},t._l(t.optionsArr,(function(t){return r("el-option",{key:t.id,attrs:{label:t.userName,value:t.userName}})})),1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{size:"small",label:"测试平台",prop:"platform"}},[r("el-select",{attrs:{placeholder:"请选择测试平台"},model:{value:t.testCycleFrom.platform,callback:function(e){t.$set(t.testCycleFrom,"platform",e)},expression:"testCycleFrom.platform"}},[t._l(t.testPlatformArr,(function(t){return r("el-option",{key:t,attrs:{label:t,value:t}})})),r("router-link",{attrs:{to:"/admincenter/admincenter?par=test_platform"}},[r("el-option",{attrs:{label:"Add New Value",value:""}})],1)],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{size:"small",label:"测试环境",prop:"testEnv"}},[r("el-select",{attrs:{placeholder:"请选择测试环境"},model:{value:t.testCycleFrom.testEnv,callback:function(e){t.$set(t.testCycleFrom,"testEnv",e)},expression:"testCycleFrom.testEnv"}},[t._l(t.testEnvArr,(function(t){return r("el-option",{key:t,attrs:{label:t,value:t}})})),r("router-link",{attrs:{to:"/admincenter/admincenter?par=test_env"}},[r("el-option",{attrs:{label:"Add New Value",value:""}})],1)],2)],1)],1)],1),r("el-form-item",{attrs:{label:"自动化编译"}},[r("el-input",{attrs:{maxlength:"30",size:"small"},model:{value:t.testCycleFrom.autoJob,callback:function(e){t.$set(t.testCycleFrom,"autoJob",e)},expression:"testCycleFrom.autoJob"}})],1),r("el-form-item",{attrs:{label:"Allure报表"}},[r("el-input",{attrs:{maxlength:"30",size:"small"},model:{value:t.testCycleFrom.allureReport,callback:function(e){t.$set(t.testCycleFrom,"allureReport",e)},expression:"testCycleFrom.allureReport"}})],1),r("el-form-item",{attrs:{label:"远程自动化编译"}},[r("el-input",{attrs:{maxlength:"30",size:"small"},model:{value:t.testCycleFrom.remoteJob,callback:function(e){t.$set(t.testCycleFrom,"remoteJob",e)},expression:"testCycleFrom.remoteJob"}})],1),r("el-form-item",{attrs:{label:t.$t("lang.Project.Description"),prop:"description",size:"small"}},[r("el-input",{attrs:{type:"textarea",maxlength:"1000","show-word-limit":"",autosize:{minRows:3,maxRows:8}},model:{value:t.testCycleFrom.description,callback:function(e){t.$set(t.testCycleFrom,"description",e)},expression:"testCycleFrom.description"}})],1),r("el-form-item",{attrs:{size:"small",label:"重复运行",prop:"frenquency"}},[r("el-select",{attrs:{placeholder:"请选择重复运行"},model:{value:t.testCycleFrom.frenquency,callback:function(e){t.$set(t.testCycleFrom,"frenquency",e)},expression:"testCycleFrom.frenquency"}},[t._l(t.frenquencyArr,(function(t){return r("el-option",{key:t,attrs:{label:t,value:t}})})),r("router-link",{attrs:{to:"/admincenter/admincenter?par=schedule_run_frequency"}})],2)],1)],1)]),r("div",{staticClass:"table"},[r("el-button",{attrs:{type:"text"},on:{click:t.newStep}},[t._v("添加用例")]),r("el-table",{ref:"testCaseData",staticStyle:{width:"100%"},attrs:{data:t.testCaseData,"header-cell-style":t.tableHeader,stripe:""}},[r("el-table-column",{attrs:{type:"index",align:"center",label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}])}),r("el-table-column",{attrs:{prop:"title",label:"标题","show-overflow-tooltip":!0,align:"center"}}),r("el-table-column",{attrs:{prop:"linkedIssue",label:"关联缺陷","show-overflow-tooltip":!0,align:"center"}}),r("el-table-column",{attrs:{prop:"Module",label:"模块","show-overflow-tooltip":!0,align:"center"}}),r("el-table-column",{attrs:{prop:"AutoStatus",label:"自动化","show-overflow-tooltip":!0,align:"center"}}),r("el-table-column",{attrs:{prop:"RunTimes",label:"运行次数","show-overflow-tooltip":!0,align:"center"}}),r("el-table-column",{attrs:{prop:"lastRun",label:"运行日期","show-overflow-tooltip":!0,align:"center"}}),r("el-table-column",{attrs:{prop:"lastRunStatus",label:"运行状态","show-overflow-tooltip":!0}},[r("el-table-column",{attrs:{prop:"stepStatus","show-overflow-tooltip":!0,label:"步骤运行状态"}})],1),r("el-table-column",{attrs:{prop:"lastRunDuration",label:"运行时长","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"lastRunner",label:"运行人","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{staticClass:"table-btn",attrs:{type:"text"},on:{click:function(r){return r.stopPropagation(),t.delview(e.row)}}},[t._v("删除")]),r("el-button",{staticClass:"table-btn",attrs:{type:"text"},on:{click:function(r){return r.stopPropagation(),t.runview(e.row)}}},[t._v("运行")])]}}])})],1)],1),r("el-dialog",{attrs:{title:"添加测试用例",visible:t.openDia,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.openDia=e}}},[r("el-form",{ref:"testCaseFrom",attrs:{model:t.testCaseFrom,rules:t.testCaseFromRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"选择测试用例",prop:"testCaseId",size:"small"}},[r("el-select",{attrs:{placeholder:"请选择测试用例"},model:{value:t.testCaseFrom.testCaseId,callback:function(e){t.$set(t.testCaseFrom,"testCaseId",e)},expression:"testCaseFrom.testCaseId"}},t._l(t.testCaseDataSelect,(function(t){return r("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:t.submittestCaseFrom}},[t._v("确 定")]),r("el-button",{on:{click:t.canceltestCaseFrom}},[t._v("取 消")])],1)],1)],1)},n=[],s=r("5530"),a=r("2f62"),l=r("4d06"),c=r("bb5f"),u=r("24d2"),i=r("f5dd"),d=r("cf45"),m={name:"Addtestcycle",data:function(){return{optionsArr:[],versionsArr:[],statusArr:[],testEnvArr:[],frenquencyArr:[],testPlatformArr:[],loading:!1,testCycleFrom:{currentVersion:0},testCycleFromTemp:{},testCyclerules:{title:[{required:!0,message:"请输入故事标题",trigger:"blur"}]},tableHeader:{color:"#d4dce3",background:"#003d79"},openDia:!1,testCaseFrom:{testCycleId:void 0,testCaseId:void 0},testCaseData:[],testCaseDataSelect:[],testCaseFromRules:{testCaseId:[{required:!0,message:"请选择测试用例",trigger:"change"}]}}},computed:Object(s["a"])(Object(s["a"])({},Object(a["b"])({lang:function(t){return t.header.lang}})),{},{projectInfo:function(){return this.$store.state.user.userinfo}}),created:function(){var t=this;this.$route.query.id?(this.testCaseFrom.testCycleId=this.$route.query.id,Object(l["e"])(this.$route.query.id).then((function(e){t.testCycleFrom=e.data,t.testCycleFromTemp=Object.assign({},t.testCycleFrom)})),this.gettestCycleCase(),Object(c["n"])({projectId:this.projectInfo.userUseOpenProject.projectId,title:""}).then((function(e){t.testCaseDataSelect=e.data}))):this.testCycleFrom.projectId=this.projectInfo.userUseOpenProject.projectId,Object(i["a"])({fieldName:"versions"}).then((function(e){var r=e.data.mergeValues?e.data.mergeValues:[];t.versionsArr=r})),Object(i["a"])({fieldName:"status"}).then((function(e){var r=e.data.mergeValues?e.data.mergeValues:[];t.statusArr=r})),Object(i["a"])({fieldName:"test_env"}).then((function(e){var r=e.data.mergeValues?e.data.mergeValues:[];t.testEnvArr=r})),Object(i["a"])({fieldName:"frenquency"}).then((function(e){var r=e.data.mergeValues?e.data.mergeValues:[];t.frenquencyArr=r})),Object(i["a"])({fieldName:"test_platform"}).then((function(e){var r=e.data.mergeValues?e.data.mergeValues:[];t.testPlatformArr=r}))},mounted:function(){},methods:{remoteReport:function(t){var e=this;""!==t?(this.loading=!0,setTimeout((function(){e.loading=!1,Object(u["n"])({subUserName:t}).then((function(t){e.optionsArr=t.data}))}),200)):this.optionsArr=[]},resetFields:function(){this.testCycleFrom={id:void 0,projectId:this.projectInfo.userUseOpenProject.projectId,title:void 0,status:void 0,runStatus:void 0,currentVersion:0,version:void 0,assignTo:void 0,notifiyList:void 0,description:void 0},this.$refs["testCycleFrom"].resetFields()},submitForm:function(t,e){var r=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;if(r.testCycleFrom.id){var o=Object(d["d"])(r.testCycleFromTemp,r.testCycleFrom);o.projectId=r.testCycleFromTemp.projectId,Object(l["f"])(o).then((function(t){"200"===t.code&&(Object(d["e"])("success",t.msg),Object(d["f"])(r,1e3))})).catch((function(t){console.log(t)}))}else Object(l["a"])(r.testCycleFrom).then((function(t){"200"===t.code?(Object(d["e"])("success",t.msg),r.resetFields(),e&&Object(d["f"])(r,1e3)):Object(d["e"])("error",t.msg)})).catch((function(t){console.log(t)}))}))},giveupBack:function(){this.testCycleFrom.id||this.resetFields(),this.returntomenu(this)},resettestCaseFrom:function(){this.testCaseFrom={testCycleId:this.testCycleFrom.id,testCaseId:void 0},this.$refs["testCaseFrom"].resetFields()},gettestCycleCase:function(){var t=this;Object(l["h"])({pageNum:1,pageSize:10,testCycleId:this.testCaseFrom.testCycleId},{}).then((function(e){t.testCaseData=e.data}))},newStep:function(){this.openDia=!0},submittestCaseFrom:function(){var t=this;this.$refs["testCaseFrom"].validate((function(e){e&&Object(l["b"])(t.testCaseFrom).then((function(e){"200"===e.code&&(t.gettestCycleCase(),Object(d["e"])("success",e.msg),t.openDia=!1,t.resettestCaseFrom())}))}))},canceltestCaseFrom:function(){this.resettestCaseFrom(),this.openDia=!1},runview:function(t){this.$router.push({name:"Execute",query:{id:t.id,testCycleId:this.testCycleFrom.id}})},delview:function(t){var e=this;Object(l["c"])(t.id).then((function(t){"200"===t.code&&(Object(d["e"])("success",t.msg),e.gettestCycleCase())}))}}},f=m,p=(r("254c"),r("2877")),b=Object(p["a"])(f,o,n,!1,null,"bf657704",null);e["default"]=b.exports},bb5f:function(t,e,r){"use strict";r.d(e,"m",(function(){return n})),r.d(e,"n",(function(){return s})),r.d(e,"a",(function(){return a})),r.d(e,"g",(function(){return l})),r.d(e,"d",(function(){return c})),r.d(e,"h",(function(){return u})),r.d(e,"o",(function(){return i})),r.d(e,"b",(function(){return d})),r.d(e,"e",(function(){return m})),r.d(e,"i",(function(){return f})),r.d(e,"j",(function(){return p})),r.d(e,"l",(function(){return b})),r.d(e,"c",(function(){return y})),r.d(e,"f",(function(){return C})),r.d(e,"p",(function(){return h})),r.d(e,"k",(function(){return v}));var o=r("b775");function n(t,e){return console.log(e),Object(o["a"])({url:"/testCase/queryList",method:"post",params:t,data:e})}function s(t){return Object(o["a"])({url:"/leftJoin/queryFestCaseTitles",method:"get",params:t})}function a(t){return Object(o["a"])({url:"/testCase/insert",method:"post",data:t})}function l(t){return Object(o["a"])({url:"/testCase/queryById/"+t,method:"get"})}function c(t){return Object(o["a"])({url:"/testCase/delete/"+t,method:"delete"})}function u(t){return Object(o["a"])({url:"/testCase/update",method:"post",data:t})}function i(t,e){return Object(o["a"])({url:"/testCaseStep/queryList",method:"post",params:t,data:e})}function d(t){return Object(o["a"])({url:"/testCaseStep/insert",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/testCaseStep/delete/"+t,method:"delete"})}function f(t){return Object(o["a"])({url:"/testCaseStep/update",method:"post",data:t})}function p(t){var e={featureId:t};return Object(o["a"])({url:"/testCase/queryTestNeedByFeatureId",method:"get",params:e})}function b(){return Object(o["a"])({url:"/testCaseTemplate/queryListByUserId",method:"get"})}function y(t){return Object(o["a"])({url:"/testCaseTemplate/insert",method:"post",data:t})}function C(t){return Object(o["a"])({url:"/testCaseTemplate/delete/"+t,method:"delete"})}function h(t){return Object(o["a"])({url:"/testCaseTemplate/update",method:"post",data:t})}function v(t){return Object(o["a"])({url:"/testCaseTemplate/importTestCase",method:"post",data:t})}},f41f:function(t,e,r){},f5dd:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var o=r("b775");function n(t){return Object(o["a"])({url:"/sysCustomField/getSysCustomField",method:"get",params:t})}}}]);